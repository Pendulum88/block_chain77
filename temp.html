<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <style>
    body {
      padding-left: 300px;
    }

    #canvas {
      background: #eee;
    }
  </style>
  <body>
    <canvas id="canvas" width="500" height="500"></canvas>

    <script>
      let canvas;
      let ctx;
      let enemy;
      let rotationValue = 0;
      let rounder = 0;

      function toRadian(rad) {
        return (rad * Math.PI) / 180;
      }

      canvas = document.getElementById("canvas");
      ctx = canvas.getContext("2d");

      function loadImage() {
        rubyImage = new Image();
        rubyImage.src = "./project/assets/bg.png";
        rubyImage.width = 80;
        rubyImage.height = 80;
      }

      function rubyRender() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.strokeRect(250, 250, 80, 80);
        ctx.save();
        ctx.translate(canvas.width / 2, canvas.height / 2);
        ctx.rotate(toRadian(rotationValue));
        // ctx.rotate((180 * Math.PI) / 180);
        ctx.drawImage(
          rubyImage,
          -rubyImage.width / 2,
          -rubyImage.height / 2,
          rubyImage.width,
          rubyImage.height
        );
        ctx.restore();
        rotationValue += 1;

        // ctx.translate(canvas.width/2, canvas.height/2);
        // ctx.rotate(30 * Math.PI / 180);
        // ctx.translate(-canvas.width/2, -canvas.height/2);
      }

      function createRuby() {
        enemy = new Ruby();
        enemy.init();
      }

      function Ruby() {
        this.x = 0;
        this.y = 0;

        this.init = function () {
          this.x = 0;
          this.y = 0;
        };
      }

      function main() {
        rubyRender();
        requestAnimationFrame(main);
      }

      loadImage();
      main();
      createRuby();
    </script>
  </body>
</html>
